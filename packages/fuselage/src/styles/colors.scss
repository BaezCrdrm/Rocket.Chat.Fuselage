@use 'sass:color';
@use 'sass:list';
@use 'sass:map';
@use '~@rocket.chat/fuselage-tokens/colors.scss';

@function color($type) {
  $color: map.get(colors.$light, $type);

  @if not $color {
    @error 'there is no color of type #{ $type }';
  }

  @return var(--rcx-color-#{ $type });
}

@mixin variables {
  :root,
  .rcx--light {
    @each $type, $color in colors.$light {
      --rcx-color-#{ $type }: #{ $color };
    }
  }

  @media (prefers-color-scheme: dark) {
    :root,
    .rcx--dark {
      @each $type, $color in colors.$dark {
        --rcx-color-#{ $type }: #{ $color };
      }
    }
  }
}
